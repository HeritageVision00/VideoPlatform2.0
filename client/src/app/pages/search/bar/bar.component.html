<div class="row">
  <div class="col-md-12">
    <form [formGroup]="registerForm" (ngSubmit)="isChecked ? searchIncident() : search()">
      <div class="row">
        <div class="col-md-11 less-padding">
          <input
            class="form-control"
            formControlName="query"
            fullWidth
            type="text"
            nbInput
            id="search"
            placeholder="Input your search..."
            [status]="'primary'"
          />
        </div>
        <div class="col-md-1 less-padding">
          <button [status]="'success'" nbButton *ngIf="!loading">Search</button>
          <button
            [status]="'success'"
            disabled
            nbButton
            *ngIf="loading"
            [nbSpinner]="true"
            nbSpinnerSize="medium"
            nbSpinnerStatus="primary"
          >
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </button>
        </div>
      </div>
    </form>
    <div class="row">
      <button (click)="openWindowForm()" [status]="'info'" nbButton>
        Filters
      </button>
      &nbsp;
      <!-- <button (click)='check()' [status]="'info'" nbButton>check</button> -->
      <button (click)="videoStitch()" [status]="'info'" nbButton>
        Video Stitching
      </button>
      &nbsp;
      <button (click)="addIncident()" [status]="'info'" nbButton>
        Add Incident
      </button>
      &nbsp;
      <div class="toggle-switch" (click)="toggle()" [class.active]="isChecked">
        <div class="toggle-thumb"></div>
      </div>
      <p>Incident report search</p>
   </div>
  </div>
</div>
<div class="row" style="margin-top: 2px" *ngIf="touched">
  <div class="col-md-12">
    <nb-card>
      <nb-card-body style="padding: 0px">
        <ng2-smart-table
          [settings]="settings"
          [source]="source"
          (edit)="pass($event)"
          *ngIf="!isChecked"
        >
        </ng2-smart-table>
        <ng2-smart-table
        [settings]="settings2"
        [source]="source"
        (edit)="got($event)"
        *ngIf="isChecked"
      >
      </ng2-smart-table>
      </nb-card-body>
    </nb-card>
  </div>
  <!-- <div class="col-md-4">
        <nb-card>
          <nb-card-body align='center' style="min-height: 250px">
            <video controls (click)="toggleVideo($event)" #videoPlayer class="responsive" muted loop controls
              preload="none" style="width: 100%;height: 100%">
              <source [src]="videoFile" type="video/mp4" />
              Browser not supported
            </video>
          </nb-card-body>
        </nb-card>
      </div> -->
</div>

<!-- <div class="row" class="mt-5" *ngIf="authService.isClient">
  <div class="col-md-12">
    <app-view-chart></app-view-chart>
  </div>
</div> -->
